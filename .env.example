# ============================================
# SYNAPSE ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in your values:
# cp .env.example .env

# ============================================
# ‚ö†Ô∏è REQUIRED CONFIGURATION
# ============================================

# DATABASE (REQUIRED)
# PostgreSQL connection string with pgvector support
# Format: postgresql://user:password@host:port/database
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/synapse"

# AUTHENTICATION (REQUIRED)
# Secret key for JWT token signing - MUST be changed in production!
# Generate with: openssl rand -base64 32
AUTH_SECRET="change-this-to-a-random-secret-in-production"

# AI API KEY (REQUIRED FOR ALL FEATURES)
# ‚ö†Ô∏è CRITICAL: Without this, the app will NOT work!
# The following features REQUIRE an AI API key:
#   - Semantic search (embeddings)
#   - AI-powered chat
#   - Document analysis
#   - Code understanding
#   - RAG (Retrieval Augmented Generation)
#
# Get your key from: https://platform.openai.com/api-keys
# New accounts receive $5 free credits (sufficient for testing)
OPENAI_API_KEY=""  # <-- ADD YOUR KEY HERE

# ============================================
# üîß OPTIONAL MODEL CONFIGURATION
# ============================================
# Default models (change if needed)
MODEL_CHAT="gpt-4o"                           # Primary chat model
MODEL_FAST="gpt-3.5-turbo"                    # Fast operations
MODEL_EMBEDDING="text-embedding-3-small"      # Embeddings (1536 dimensions)

# Alternative AI providers (use instead of OpenAI if preferred)
# GROQ_API_KEY=""                            # Fast, cheap inference
# GEMINI_API_KEY=""                          # Google's models
# ANTHROPIC_API_KEY=""                       # Claude models
# CEREBRAS_API_KEY=""                        # Ultra-fast inference

# ============================================
# üì¶ OPTIONAL OBJECT STORAGE
# ============================================
# Required ONLY if you want to upload files via the web UI
# If not set, files will be stored in the database (works fine for small files)
#
# For DigitalOcean Spaces (S3-compatible):
# SPACES_KEY="your-spaces-access-key"
# SPACES_SECRET="your-spaces-secret-key"
# SPACES_ENDPOINT="https://nyc3.digitaloceanspaces.com"
# SPACES_BUCKET="your-bucket-name"
# OBJECT_STORAGE_PREFIX="synapse/"
#
# For AWS S3:
# OBJECT_STORAGE_KEY="your-aws-access-key"
# OBJECT_STORAGE_SECRET="your-aws-secret-key"
# OBJECT_STORAGE_ENDPOINT="https://s3.amazonaws.com"
# OBJECT_STORAGE_BUCKET="your-bucket-name"
# OBJECT_STORAGE_REGION="us-east-1"

# ============================================
# üåê APPLICATION SETTINGS
# ============================================
NODE_ENV="development"                        # development | production | test
PORT="8000"                                   # Backend server port
APP_SLUG=""                                   # Optional: Multi-tenant identifier

# Frontend URLs (auto-configured in Docker)
VITE_API_URL="http://localhost:8000"
VITE_APP_URL="http://localhost:3000"

# ============================================
# üìä OPTIONAL MONITORING
# ============================================
# Sentry error tracking
# SENTRY_DSN="your-sentry-dsn-here"

# Debug logging
# DEBUG=false

# ============================================
# üöÄ QUICK START GUIDE
# ============================================
#
# For Docker (easiest):
# 1. Copy this file: cp .env.example .env
# 2. Add your OPENAI_API_KEY above (REQUIRED)
# 3. Run: ./quick-start.sh (or quick-start.bat on Windows)
# 4. Open: http://localhost:3000
#
# For Manual Setup:
# 1. Install PostgreSQL 16 with pgvector extension
# 2. Copy this file: cp .env.example .env
# 3. Update DATABASE_URL with your PostgreSQL credentials
# 4. Add your OPENAI_API_KEY (REQUIRED)
# 5. Generate AUTH_SECRET: openssl rand -base64 32
# 6. Run: pnpm install && pnpm db:migrate && pnpm dev
#
# For Cloud Deployment:
# See: docs/one-click-deploy.md for platform-specific guides
#
# ============================================
# ‚ö†Ô∏è IMPORTANT NOTES
# ============================================
#
# About AI Keys:
# - OPENAI_API_KEY is REQUIRED for the app to function
# - Without it, search, chat, and RAG features will not work
# - Free tier: $5 credit for new OpenAI accounts
# - Alternative: Use GROQ_API_KEY for cheaper inference
#
# About Object Storage:
# - OPTIONAL - only needed for web UI file uploads
# - CLI can index files without object storage
# - Files under 10MB work fine in database storage
#
# About Database:
# - Must have pgvector extension
# - Use PostgreSQL 14+ (16 recommended)
# - Cloud platforms auto-configure this
#
# About Secrets:
# - Never commit .env file to git
# - Use different secrets for dev/prod
# - Rotate keys regularly
# - Use secrets manager in production
